
<!-- saved from url=(0014)about:internet -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title> Einstein - Flickr </title>

<link rel="stylesheet" type="text/css" href="./Einstein - Flickr_files/main.css">
 <link rel="icon" href="https://humphryscomputing.com/favicon.ico"> </head>

<body>

<script src="./Einstein - Flickr_files/jquery.min.js(1).download"></script>
<script src="./Einstein - Flickr_files/header.js.download"></script>



 






<!-- 
Header with Three.js show
For most normal pages
--> 




<!-- 
three.js for header show
--> 

<script src="./Einstein - Flickr_files/r80.three.min.js(1).download"></script>  



 


<div id="headerbox">

<center>

<table border="0" cellpadding="15" cellspacing="0">
<tbody><tr>
<td valign="center">


<center>

 <font size="+3"><b>

<a href="https://humphryscomputing.com/" style="text-decoration:none">
<font color="black">Dr. Mark Humphrys</font>
</a>

 </b></font>

<p>

School of Computing.
Dublin City University.
</p><p>


<a class="main-navigation" href="https://humphryscomputing.com/">Home</a>

&nbsp;&nbsp;&nbsp;&nbsp; 

<a class="main-navigation" href="https://humphryscomputing.com/blog.html">Blog</a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a class="main-navigation" href="https://humphryscomputing.com/teaching.html">Teaching</a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a class="main-navigation" href="https://humphryscomputing.com/research.html">Research</a>

&nbsp;&nbsp;&nbsp;&nbsp;

<a class="main-navigation" href="https://humphryscomputing.com/contact.html">Contact</a>
  
</p><p>

  Online coding site: 
<a href="https://ancientbrain.com/"><img style="border:none; vertical-align: middle;" width="30" src="./Einstein - Flickr_files/ab.logo.png"></a> 

<a class="main-navigation" href="https://ancientbrain.com/">Ancient Brain</a>
</p><p>





<!--
Live remote stats  
-->

<script src="./Einstein - Flickr_files/feed.nousers.js.download"></script>1,927 
coders  

&nbsp;

<script src="./Einstein - Flickr_files/feed.noworlds.js.download"></script>7,570 
JavaScript worlds





</p></center>

</td>







<td valign="top">

<center>

 
<!--

 title="Tiled floor at my great-granduncle's pub (now 'The Oak'), Dame St, Dublin"

<A  HREF=https://humphryscomputing.com/><img style=border:none   width=150   src="https://humphryscomputing.com/Icons/logo.1.jpg"></A>

-->


  <div id="headershowdiv">
    <canvas width="125" height="125" style="width: 125px; height: 125px;"></canvas></div>
  
<script src="./Einstein - Flickr_files/header.show.js.download"></script>

</center>

</td>






<td valign="center">
<center>



<form method="GET" action="https://humphryscomputing.com/search.php">  
Search: 
 <input size="20" name="q"> 
 <input type="submit" value="Search"> 
</form> 


<p>


<a class="main-navigation" href="https://humphryscomputing.com/ca170/">CA170</a>   &nbsp;&nbsp;&nbsp;&nbsp;
<a class="main-navigation" href="https://humphryscomputing.com/ca318/">CA318</a> &nbsp;&nbsp;&nbsp;&nbsp;
<a class="main-navigation" href="https://humphryscomputing.com/ca686/">CA686</a>   &nbsp;&nbsp;&nbsp;&nbsp;
<a class="main-navigation" href="https://humphryscomputing.com/ca686i/">CA686I</a> 
</p><p>

<a class="main-navigation" href="https://humphryscomputing.com/courses/ai.html">Online AI coding exercises</a>
</p><p>
 
<a class="main-navigation" href="https://humphryscomputing.com/projects.html">Project ideas</a>



</p></center>

</td>


</tr></tbody></table>

</center>

</div>


 




<div class="NOPRINT">



<style>

#ancientbrain-div {		

/* div on page to go below header box 			*/
/* styled to exactly match and line up with header box 	*/

 	background: rgba(238, 255, 255, 1.0);
 	color: black;
	text-align: center;	/* center content */ 

	max-width: 1510px;	/* to match header box 1500 plus padding 5 */ 
   	padding: 0;

  	margin: 20 auto 10 auto;                         /* top right bottom left */		  
   	border: 2px solid black ;		
}


#ancientbrain-iframe {		/* iframe fills div */

 	width: 	900 ; 		/* default, later set by JS */
	height:	200 ;	 		 

	margin: auto; 		/* center iframe */

	border: none;
   /*	border: 2px solid black ; */
}

</style>

  
<div id="ancientbrain-div">
<iframe id="ancientbrain-iframe" scrolling="no" src="./Einstein - Flickr_files/ad.html" style="width: 1510px; height: 200px;"></iframe>
</div>
 


<script>

// optional dimensions tweaking
// width and height of iframe are fairly flexible 
// height should be at most width/4 (height can be less than that)

function ancientbrain_setDimensions()
{
	var iframe 	= document.getElementById('ancientbrain-iframe');
	var parent 	= iframe.parentElement;
	var w		= parent.clientWidth;

 	iframe.style.width  = w ;		// fills div  

	if ( w > 1000 ) iframe.style.height = 200 ;		// max-height 200 
	else		iframe.style.height = w * 0.2 ;	 	 
}

ancientbrain_setDimensions();

window.addEventListener ( "resize", 		ancientbrain_setDimensions );
window.addEventListener ( "orientationchange",	ancientbrain_setDimensions );

</script>







</div>

 



<div id="boxinpage">


<br>

<h1> Einstein - Flickr </h1>

Write   a 
 shell script to
  get images    from Flickr and make a web page to display them.

 


<pre>
</pre>

<h2> Background </h2>

<ul>

  <li><a href="https://www.flickr.com/">Flickr </a> is an 
image  sharing site.

</li><li> You can get a  feed of images from Flickr.

</li><li> See  <a href="https://humphryscomputing.com/Notes/Networks/apis.html#flickr">Flickr API </a>


</li><li> For example, latest images tagged with "louvre" (for the Louvre museum):

<blockquote>
<a href="https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;tags=louvre">
         https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;tags=louvre</a>
</blockquote>


</li><li> Latest images tagged with both "renaissance" and "painting":

<blockquote>
<a href="https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;tags=renaissance,painting">
         https://api.flickr.com/services/feeds/photos_public.gne?format=json&amp;tags=renaissance,painting</a>
</blockquote>


</li><li> This data is in <a href="http://en.wikipedia.org/wiki/JSON" class="usercontent">JSON </a>  format.
 
 
  

</li></ul>


<pre>
</pre>



<h2> The    script </h2>


  Shell script usage:  
 <pre> flickr2 (list of tags) </pre>
 
Get latest images tagged with these tags 
and make a web page to display them.<br>
For example:
<pre>flickr2 louvre
flickr2 renaissance painting
</pre>
<p>


</p><pre>
</pre>

<hr> 

<h2>    1/3  </h2>

Start with this skeleton:
<p>

</p><div style="    border: 1px solid black; padding: 20px; display: inline-block; "> 
<pre># convert list of args (separated by spaces) into list separated by commas

TAGS=` echo $* | tr ' ' ',' `

# now use TAGS to construct the URL
</pre>
</div>

 

<ul>
 
 <li> Use   <a href="https://humphryscomputing.com/Notes/UNIX/intro.2.html#wget"><b>wget</b></a>

to get  the  JSON  feed of   photos  with the  tags.

</li><li> You need to surround the URL with quotes because it has character "&amp;" in it.

   
 
</li><li> But <a href="https://humphryscomputing.com/Notes/UNIX/shell.more.html#types.quotes">which quotes?</a>

</li></ul>
<pre>  
</pre>


<h2> Upload to Einstein </h2>

<ol>
<li>
Rename to flickr2.sh.
 <p>
 
 
</p></li><li>  Send the output    into this file:
  <pre>  $HOME/flickr2.html </pre>
<p>
</p></li></ol>

<pre>  
</pre>

<h3>
There is NO POINT going further until Einstein has given you the 1/3. 
<br>
All you have to do is fetch the right URL. <br>
But there is NO POINT looking at the below until Einstein agrees you have fetched the right URL.

</h3>

<pre>
</pre>

<hr>


<h2>  2/3 </h2>


<ol>

<li>  You will notice there are   snippets of usable HTML inside here: 

<pre> "description": " HTML payload (encoded) ", </pre>


</li><li> For each photo, we are going to extract the descriptions <i>and </i>  the list of tags.

</li><li> You can use 
<a href="https://humphryscomputing.com/Notes/UNIX/filterbaks.html#egrep">egrep</a>
to extract    lines containing <i>either  </i>  X or Y using:
<pre> egrep 'X|Y' </pre> 


</li><li> The patterns we want to look for  are:
<pre>"description":
"tags":
</pre>
 

</li><li>
 Test that your program now gets the feed, and extracts the descriptions and  lists of tags, and nothing else.
<p> 
</p></li></ol>


 

<pre>  
</pre>
<hr>

<h2> 3/3  </h2>


<ol>
 

<li> The   descriptions  are HTML snippets, encoded. 
 Decode  them   to normal HTML.
</li><li> 
 You can do this using 
 <a href="https://humphryscomputing.com/Notes/UNIX/shell.utilities.html#tr"><b>tr</b></a>

to remove one character. What character?


 </li><li> Now double click on the output page and you will actually see the images.
<p>

</p></li><li> It needs some tidying. 
 Use 
<a href="https://humphryscomputing.com/Notes/UNIX/shell.utilities.html#sed">sed</a>
to insert space before   each item:

<pre> sed "s|&lt;p&gt;|&lt;hr style='margin-top:50'&gt;&lt;p&gt;|"  </pre>

(This only puts space in front of the first <tt> &lt;p&gt; </tt> on each line.)
<p>

</p></li><li> Check it looks good. Upload to Einstein for marks.
<p>
</p></li></ol>

<pre>  
</pre>

<h2> After </h2>

<ol>
<li> Yes you could do some more tidying up. 
There is some loose text that needs tidying up.

</li><li> You can tidy it up <i>after </i> Einstein gives you full marks, since Einstein is fussy.
 
Einstein expects each  description line  to be all on one line, 
and each  tags line  to be all on one line, 
and there be no other lines:
<pre>.. description line ...
.. tags line ...
.. description line ...
.. tags line ...
</pre>

You can insert extra HTML  on a line (like we did with the vertical space).
But do not make new lines, or combine lines, with the version you send to Einstein,
  or Einstein will get confused.
 <p>
 
</p></li><li> You now have a program to search Flickr for tags and display images plus text  in your own web page. 
<p>

 
</p></li></ol>
 
  
 

<pre>

</pre>

</div>
 



<script src="./Einstein - Flickr_files/footer.js.download"></script>


</body></html>