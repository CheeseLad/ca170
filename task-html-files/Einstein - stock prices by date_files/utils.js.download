function ABClass(){this.THESERVER="ancientbrain.com",this.RUNSERVER="run.ancientbrain.com",this.WEBSOCKET_URL="https://ancientbrain.com:3000",this.WEBSOCKET_JS="/js/socket.io/socket.io.min.js",this.WEBSOCKET_CONTROL="AB.control",this.WEBSOCKET_NORMAL="AB.normal",this.LOGO_PNG="/images/logo.earth.png",this.RUNLOGO_PNG="/images/logo.blue.png",this.LOGO_MOBILE_PNG="/images/logo.mobile.3.transp.png",this.tickyes="<img align=absmiddle src=images/tick.yes.png>  &nbsp; ",this.tickno="<img align=absmiddle src=images/tick.info.png> &nbsp; ",this.WORLDIMAGE_WIDTH=900,this.WORLDIMAGE_HEIGHT=600,this.RUNHEADER_MARGIN="20",this.RUNHEADER_MARGIN_NO=20,this.RUN_NORMAL=0,this.RUN_GENERATE_IMAGE=1,this.RUN_GENERATE_SCORE=2,this.NOUSERSPANS=50,this.timer,this.running=!1,this.step,this.socket,this.clockTick=100,this.maxSteps=1e3,this.screenshotStep=50,this.drawRunControls=!0,this.runReady=!0,this.systemRunReady=!0,this.abortRun=!1,this.loggedin=!1,this.runloggedin=!1,this.mode=this.RUN_NORMAL,this.forceGenerateImage=!1,this.headerSetManually=!1,this.world=new Object,this.mind=new Object,this.worldid="none",this.worldtitle="none",this.worldtype="none",this.api="none",this.mindid="none",this.mindtitle="none",this.topmind="none",this.topmymind="none",this.userid="none",this.myuserid="none",this.username="none",this.myusername="none",this.country="none",this.likes=0,this.ticket=0,this.scoreticket=0,this.imageticket=0,this.dataticket=0,this.url="https://"+this.THESERVER,this.webpage=!1,this.APIusesAB=!1,this.onDesktop=function(){return void 0===window.orientation},this.onMobile=function(){return!this.onDesktop()},this.insideIframe=function(){return window.location!==window.parent.location},this.portraitMode=function(){return window.screen.width<window.screen.height},this.isIE=function(){var t=window.navigator.userAgent;return-1!=t.indexOf("MSIE")||-1!=t.indexOf("Trident")},this.isWindowsPhone=function(){return-1!=window.navigator.userAgent.indexOf("Windows Phone")},this.isAndroid=function(){return-1!=window.navigator.userAgent.indexOf("Android")},this.printIcon=function(t,n){var i="https://"+AB.THESERVER,e="<img  style='border:none;"+n+"'   \twidth=30  src='"+t+"'>";document.write(" <a title='Ancient Brain home' href='"+i+"' >"+e+"</a> ")},this.printNameIcon=function(t,n){var i="https://"+AB.THESERVER;document.write(" <span class='logo-text ab-logo-text' > <a title='Ancient Brain home' href='"+i+"' style='text-decoration: none;' >Ancient&nbsp;Brain</a> </span> "),this.printIcon(t,n)},this.printMobileLogo=function(){var t="https://"+AB.THESERVER,n="<img  style='border:none; vertical-align:middle; max-width:20vw; max-height:60px;'   src='"+AB.LOGO_MOBILE_PNG+"'>";document.write(" <a title='Ancient Brain home' href='"+t+"' >"+n+"</a> ")},this.audioIsPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended},this.printRecurse=function(t,n,i){void 0===i&&(i=0),"undefined"==typeof maxlevel&&(n=0);var e="";0==i&&(e="<pre>");for(var r="<br>",o=0;o<i;o++)r+="    ";if(0!=n&&i>=n)return e+=r+"...<br>";for(var s in t)switch(typeof t[s]){case"string":case"number":case"boolean":e+=r+s+": "+t[s]+" <br>";break;case"object":default:e+=r+s+": [ <br>"+this.printRecurse(t[s],n,i+1)+r+"]</br>"}return 0==i&&(e+="</pre>"),e},this.randomColor=function(){return 16777215*Math.random()},this.randomFloatAtoB=function(t,n){return t+Math.random()*(n-t)},this.randomIntAtoB=function(t,n){return Math.round(this.randomFloatAtoB(t,n))},this.randomEventProb=function(t){return Math.random()<t},this.randomBoolean=function(){return Math.random()<.5},this.randomPick=function(t,n){return this.randomBoolean()?t:n},this.randomPick3=function(t,n,i){var e=Math.random();return e<1/3?t:e>2/3?n:i},this.randomElementOfArray=function(t){return t[this.randomIntAtoB(0,t.length-1)]},this.distance2D=function(t,n,i,e){var r=t-i,o=n-e;return Math.sqrt(r*r+o*o)},this.vector3toString=function(t){var n=Math.floor(t.x);xs=n.toString(),xs=xs.padStart(5);var i=Math.floor(t.y);ys=i.toString(),ys=ys.padStart(5);var e=Math.floor(t.z);return zs=e.toString(),zs=zs.padStart(5),"("+xs+","+ys+","+zs+")"},this.escapeHTML=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},this.escapeHTMLshort=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")},this.newDiv=function(t){var n,i=document.createElement("div");i.id=t,(n=document.getElementById("ab-threepage"))?n.appendChild(i):(n=document.getElementById("threepage"))?n.appendChild(i):document.body.appendChild(i)}}var AB=new ABClass;
