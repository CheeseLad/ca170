function AncientBrainAdClass(){const n=15663103,t=16777164,o="images/smiley.off.png",e="images/smiley.on.png",i=128,a=i/10,r=.3*i,c=.5,p=20*i,s=5*i,u=5*i,l=100*i,d=75,f=1,v=100;var m,h,B,g,A,E,w,T=!1,y=0,b=0,k=0,D=0;w=AB.onDesktop()?50:30;var x=new Array(w),H=this;function R(n,t){var o=new THREE.Vector3;o.set(n/h.width*2-1,-t/h.height*2+1,.5),o.unproject(g);var e=o.sub(g.position).normalize(),i=-g.position.z/e.z;return g.position.clone().add(e.multiplyScalar(i))}function C(){return!(!A||!E)}function P(){for(var n=0;n<w;n++){var t=new THREE.BoxGeometry(i,i,a),o=new THREE.Mesh(t);o.material=A,o.position.x=AB.randomIntAtoB(0,p),o.position.y=AB.randomIntAtoB(-s,s),o.position.z=0,B.add(o),x[n]=o}var e;m.render(B,g),e=$("#ancientbraindiv"),AB.onDesktop()?(e.hover(M,L),e.mousemove(S),e.click(I)):(e.css("touch-action","none"),"onpointerdown"in window?(e.on("pointerdown",function(n){return function(n){T||M(n),S(n)}(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("pointermove",function(n){return function(n){S(n)}(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("pointerup",function(n){return F(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("pointercancel",function(n){return F(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("pointerout",function(n){return F(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("pointerleave",function(n){return F(n),n.stopPropagation(),n.preventDefault(),!1}),e.click(I)):(e.on("touchstart",function(n){return function(n){T||M(n),j(n),k=y,D=b}(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("touchmove",function(n){return function(n){j(n)}(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("touchend",function(n){return G(n),n.stopPropagation(),n.preventDefault(),!1}),e.on("touchcancel",function(n){return G(n),n.stopPropagation(),n.preventDefault(),!1}))),AB.onDesktop()?$("#ancientbrain-instruction").html(" Mouseover to make the little people happy "):$("#ancientbrain-instruction").html(" Touch drag to make the little people happy "),setInterval(z,v)}function z(){T?function(){for(var n=0;n<w;n++)if(x[n]){var t=y-x[n].position.x,o=b-x[n].position.y;if(AB.randomBoolean()){var e=AB.randomFloatAtoB(0,c);x[n].position.x=x[n].position.x+t*e,x[n].position.y=x[n].position.y+o*e}else x[n].position.x=x[n].position.x+AB.randomIntAtoB(-r,r),x[n].position.y=x[n].position.y+AB.randomIntAtoB(-r,r)}}():function(){for(var n=0;n<w;n++)x[n]&&(x[n].position.x=x[n].position.x+AB.randomIntAtoB(-r,r),x[n].position.y=x[n].position.y+AB.randomIntAtoB(-r,r))}(),m.render(B,g)}function I(n){window.open("https://ancientbrain.com","_blank")}function M(n){T=!0,function(){for(var n=0;n<w;n++)x[n]&&(x[n].material=E)}(),AB.onDesktop()?$("#ancientbrain-instruction").html(" Click to go to Ancient Brain "):$("#ancientbrain-instruction").html(" Tap to go to Ancient Brain "),m.setClearColor(t,1)}function L(t){T=!1,function(){for(var n=0;n<w;n++)x[n]&&(x[n].material=A)}(),AB.onDesktop()?$("#ancientbrain-instruction").html(" Mouseover to make the little people happy <br> Click to go to Ancient Brain "):$("#ancientbrain-instruction").html(" Touch drag to make the little people happy <br> Tap to go to Ancient Brain "),m.setClearColor(n,1)}function S(n){var t=R(n.pageX,n.pageY);y=t.x,b=t.y}function F(n){T&&L()}function j(n){var t=R(n.originalEvent.changedTouches[0].pageX,n.originalEvent.changedTouches[0].pageY);y=t.x,b=t.y}function G(n){AB.distance2D(k,D,y,b)<3&&I(),T&&L()}this.start=function(){var t,i;(m=new THREE.WebGLRenderer).setClearColor(n,1),(h=m.domElement).id="ancientbraincanvas",document.getElementById("ancientbraindiv").appendChild(h),B=new THREE.Scene,(g=new THREE.PerspectiveCamera(d,1,f,l)).position.z=u,B.add(g),g.lookAt(B.position),H.setSize(),m.render(B,g),clock=new THREE.Clock,AB.onDesktop()?window.addEventListener("resize",function(){ancientbrainad.setSize()}):window.addEventListener("orientationchange",function(){ancientbrainad.setSize()}),t=new THREE.TextureLoader,i=new THREE.TextureLoader,t.load(o,function(n){n.minFilter=THREE.LinearFilter,A=new THREE.MeshBasicMaterial({map:n}),C()&&P()}),i.load(e,function(n){n.minFilter=THREE.LinearFilter,E=new THREE.MeshBasicMaterial({map:n}),C()&&P()})},this.setSize=function(){var n,t;n=window.innerWidth,window.innerHeight,t=n/4,g.aspect=n/t,g.updateProjectionMatrix(),m.setSize(n,t)}}var ancientbrainad=new AncientBrainAdClass;ancientbrainad.start();
